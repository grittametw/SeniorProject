# SeniorProject
นี่คือ Source Code ทั้งหมดสำหรับการนำไปใช้งานกับโครงงาน เครื่องแต่งหน้าอัจฉริยะโดยวิเคราะห์ใบหน้าด้วยคอมพิวเตอร์วิทัศน์

## โปรแกรมและแพ็กเกจที่ต้องติดตั้ง
- [Python 3.7.0]
- [Debugging: Python Pylance] = เครื่องมือช่วยในการเขียนโปรแกรม Python
- [OpenCV: version 4] = ไลบรารีที่มีเครื่องมือและอัลกอริทึมสำหรับประมวลผลภาพและวิดีโอ
- [pyrealsense 2] = ไลบรารี Python ที่ใช้ในการเชื่อมต่อกับกล้อง Intel RealSense
- [color-diff] = แพ็คเกจสำหรับการคำนวณความแตกต่างของสี
- [ejs] = เครื่องมือสำหรับการสร้างเทมเพลต HTML
- [express] = เฟรมเวิร์กสำหรับสร้างแอปพลิเคชันเว็บด้วย Node.js
- [mysql] = ไคลเอ็นต์ Node.js สำหรับการเชื่อมต่อกับ MySQL database โดยตรง
- [serialport] = ไลบรารี Node.js สำหรับการเชื่อมต่อกับอุปกรณ์ที่ใช้พอร์ตซีเรียล

## วิธีการนำไปใช้งาน
ในส่วนนี้จะแบ่งเป็น 3 ส่วนหลักๆ คือ กล้อง เว็บไซต์ และการเคลื่อนที่ โดยขั้นตอนมีดังนี้
#### กล้อง
- เริ่มต้นการทำงานที่ไฟล์ Photo_Data.py ทำการถ่ายภาพผู้ใช้งาน โดยรูปภาพจะเก็บไว้ที่ output_directory (สามารถกด run ได้เลย)
- ต่อไปไฟล์ Color_RGB_Data.py ทำการดึงค่าสีจากรูปภาพและส่งไปที่ database โดยต้องตั้งค่า image_path ให้ตรงกับ path ของรูปภาพที่ถ่ายจาก Photo_Data.py (สามารถกด run ได้เลย)
- ต่อไปไฟล์ Position.py ทำการส่งค่า position ไปที่ database (สามารถกด run ได้เลย)
#### เว็บไซต์
- ไฟล์ server.js ทำการดึงค่าสีจาก database มาวิเคราะห์ก่อนแสดงผล พร้อมทั้งรูปภาพจาก output_directory มาแสดงที่หน้าเว็บไซต์ (คำสั่ง 'node server')
#### การเคลื่อนที่
- ไฟล์ index.js ทำการดึงค่า position จาก database ก่อนเริ่มกระบวนการแต่งหน้า (คำสั่ง 'node index' โดยทำการรีเฟรชหน้า http://localhost:5000/ ด้วยเพื่อเริ่มการทำงาน)
- เพิ่มเติม หากต้องการทำงานทั้งเว็บไซต์และการเคลื่อนที่พร้อมกัน ต้องแยกไฟล์คนละโฟลเดอร์